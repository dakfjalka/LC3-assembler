        .ORIG x3000

LDI R0, A
LDI R1, B
ADD R2, R2, #1
NOT R1, R1
ADD R1, R1, #1

LOOP
BRz BREAK
AND R3, R0, R2
BRz SKIP
ADD R4, R4, #1
SKIP
ADD R2, R2, R2
ADD R1, R1, #1
BR LOOP

BREAK
STI R4, RES
TRAP x25

A .FILL x3100
B .FILL x3101
RES .FILL x3102
        .END
